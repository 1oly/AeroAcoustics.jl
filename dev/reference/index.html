<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference · AeroAcoustics.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">AeroAcoustics.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">AeroAcoustics</a></li><li class="is-active"><a class="tocitem" href>API Reference</a><ul class="internal"><li><a class="tocitem" href="#General-1"><span>General</span></a></li><li><a class="tocitem" href="#Basic-methods-1"><span>Basic methods</span></a></li><li><a class="tocitem" href="#Advanced-methods-1"><span>Advanced methods</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/1oly/AeroAcoustics.jl/blob/master/docs/src/reference.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Reference-1"><a class="docs-heading-anchor" href="#API-Reference-1">API Reference</a><a class="docs-heading-anchor-permalink" href="#API-Reference-1" title="Permalink"></a></h1><h2 id="General-1"><a class="docs-heading-anchor" href="#General-1">General</a><a class="docs-heading-anchor-permalink" href="#General-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="AeroAcoustics.DR!-Tuple{FreqArray}" href="#AeroAcoustics.DR!-Tuple{FreqArray}"><code>AeroAcoustics.DR!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">DR!(CSM::FreqArray)</code></pre><p>Apply diagonal removal to CSM.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/1oly/AeroAcoustics.jl/blob/7fdb5d4505c2913a66a37bbb99ec24486290e7fa/src/AeroAcoustics.jl#L76-L80">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AeroAcoustics.DR-Tuple{FreqArray}" href="#AeroAcoustics.DR-Tuple{FreqArray}"><code>AeroAcoustics.DR</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">DR(CSM::FreqArray)</code></pre><p>Apply diagonal removal to CSM and new array.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/1oly/AeroAcoustics.jl/blob/7fdb5d4505c2913a66a37bbb99ec24486290e7fa/src/AeroAcoustics.jl#L91-L95">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AeroAcoustics.narrow2oct-Tuple{FreqArray, Any}" href="#AeroAcoustics.narrow2oct-Tuple{FreqArray, Any}"><code>AeroAcoustics.narrow2oct</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">narrow2oct(x::FreqArray,n,nomial::Bool=true;psd=false)</code></pre><p>Sum narrow band spectrum to 1/n octave bands given narrow band frequencies <code>f</code> in x.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/1oly/AeroAcoustics.jl/blob/7fdb5d4505c2913a66a37bbb99ec24486290e7fa/src/AeroAcoustics.jl#L51-L55">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AeroAcoustics.Environment" href="#AeroAcoustics.Environment"><code>AeroAcoustics.Environment</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Environment</code></pre><p>The Environment struct is required for most methods and defines the geometrical setup, constants, and stores the relevant data together. The microphone array is assumed to be at the center of the coordinate system. The fields are</p><p><strong>Arguments</strong></p><p><em>Required:</em></p><ul><li><code>micgeom::Array{T,2}</code>: (x,y,z) coordinates for microhone array.</li><li><code>z0::Real</code>: distance to source plane from microphone array.</li><li><code>CSM::FreqArray</code>: Cross-spectral matrix, size <code>M x M x Nf</code>, where <code>M</code> is the number of microphones and <code>Nf</code> is the number of frequency bins.</li></ul><p><em>Optional:</em></p><ul><li><code>flim::Tuple=extrema(CSM.fc)</code>: Frequency limits (fmin,fmax).</li><li><code>Nx::Integer=21</code>: Number of computational gridpoint in x direction.</li><li><code>Ny::Integer=21</code>: Number of computational gridpoint in y direction.</li><li><code>xlim::Tuple=(-1.,1.)</code>: Cartesian x-coordinate limits.</li><li><code>ylim::Tuple=(-1.,1.)</code>: Cartesian y-coordinate limits.</li><li><code>wv=ones(size(micgeom,2))</code>: Microphones on/off. </li><li><code>wc::Bool=false</code>: Microphones coherence weighting.</li><li><code>dr::Bool=false</code>: Diagonal removal of CSM</li><li><code>w=ones(M,Nf)</code>: Microphone weights. If <code>wc=true</code> it calculates coherence weighting.</li><li><code>shear::Bool = false</code>: Amiet phase correction</li><li><code>ampcorr::Bool = shear</code>: Amiet amplitude correction (only applies when shear = true)</li><li><code>c::Real=343.</code>: Speed of sound [m/s].</li><li><code>Ma::Real=0.0</code>: Mach number (sign determines flow direction)</li><li><code>h::Real=0.0</code>: Distance from array center to shear layer (Amiet correction) should be supplied when <code>Ma != 0</code>.</li><li><code>multi_thread::Bool = false</code>: Enable multi-threading via the ThreadsX package.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/1oly/AeroAcoustics.jl/blob/7fdb5d4505c2913a66a37bbb99ec24486290e7fa/src/types.jl#L16-L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AeroAcoustics.coherence_weights-Tuple{Any}" href="#AeroAcoustics.coherence_weights-Tuple{Any}"><code>AeroAcoustics.coherence_weights</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">coherence_weights(CSM)</code></pre><p>Calculate microphone weights according to mean mututal-coherence.</p><p>Amaral et al. “Slat Noise from an MD30P30N Airfoil at Extreme Angles of Attack,” AIAA Journal, vol. 56, no. 3, pp. 964–978, Mar. 2018.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/1oly/AeroAcoustics.jl/blob/7fdb5d4505c2913a66a37bbb99ec24486290e7fa/src/utils.jl#L61-L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AeroAcoustics.enbw-Tuple{Any, Any}" href="#AeroAcoustics.enbw-Tuple{Any, Any}"><code>AeroAcoustics.enbw</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">enbw(fs,win)</code></pre><p>Equivalent Noise Band Width. Use to convert power spectrum to power spectral density and reverse. PS = PSD*ENBW</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/1oly/AeroAcoustics.jl/blob/7fdb5d4505c2913a66a37bbb99ec24486290e7fa/src/utils.jl#L84-L88">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AeroAcoustics.octavebandlimits-Union{Tuple{T}, Tuple{Vector{T}, Any}} where T&lt;:Real" href="#AeroAcoustics.octavebandlimits-Union{Tuple{T}, Tuple{Vector{T}, Any}} where T&lt;:Real"><code>AeroAcoustics.octavebandlimits</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">octavebandlimits(fc,n)</code></pre><p>Compute 1/n octave band limits given center frequencies fc.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/1oly/AeroAcoustics.jl/blob/7fdb5d4505c2913a66a37bbb99ec24486290e7fa/src/utils.jl#L4-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AeroAcoustics.octavebands" href="#AeroAcoustics.octavebands"><code>AeroAcoustics.octavebands</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">octavebands(n,flim=(16.,40000.),nomial::Bool=false)</code></pre><p>Compute 1/n octave band center frequencies.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/1oly/AeroAcoustics.jl/blob/7fdb5d4505c2913a66a37bbb99ec24486290e7fa/src/utils.jl#L38-L42">source</a></section></article><h2 id="Basic-methods-1"><a class="docs-heading-anchor" href="#Basic-methods-1">Basic methods</a><a class="docs-heading-anchor-permalink" href="#Basic-methods-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="AeroAcoustics.beamforming-Tuple{Environment}" href="#AeroAcoustics.beamforming-Tuple{Environment}"><code>AeroAcoustics.beamforming</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">beamforming(Environment)</code></pre><p>Calculate frequency-domain beamforming using cross-spectral matrix <code>csm</code> and steering vector <code>v</code> stored in Environment struct</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/1oly/AeroAcoustics.jl/blob/7fdb5d4505c2913a66a37bbb99ec24486290e7fa/src/beamforming.jl#L22-L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AeroAcoustics.beamforming-Union{Tuple{B}, Tuple{A}, Tuple{N}, Tuple{T2}, Tuple{T1}, Tuple{A, B}} where {T1&lt;:AbstractFloat, T2&lt;:AbstractFloat, N, A&lt;:AbstractArray{Complex{T1}, N}, B&lt;:AbstractArray{Complex{T2}, N}}" href="#AeroAcoustics.beamforming-Union{Tuple{B}, Tuple{A}, Tuple{N}, Tuple{T2}, Tuple{T1}, Tuple{A, B}} where {T1&lt;:AbstractFloat, T2&lt;:AbstractFloat, N, A&lt;:AbstractArray{Complex{T1}, N}, B&lt;:AbstractArray{Complex{T2}, N}}"><code>AeroAcoustics.beamforming</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">beamforming(csm,v)</code></pre><p>Calculate frequency-domain beamforming using cross-spectral matrix <code>csm</code> and steering vector <code>v</code>. <code>csm</code> must be a square (Hermitian) matrix optionally with a third (frequency) dimension. First dimension of <code>v</code> and <code>csm</code> must be equal.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/1oly/AeroAcoustics.jl/blob/7fdb5d4505c2913a66a37bbb99ec24486290e7fa/src/beamforming.jl#L1-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AeroAcoustics.csm-Union{Tuple{AbstractArray{T, N} where N}, Tuple{T}} where T&lt;:AbstractFloat" href="#AeroAcoustics.csm-Union{Tuple{AbstractArray{T, N} where N}, Tuple{T}} where T&lt;:AbstractFloat"><code>AeroAcoustics.csm</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">csm(t;n=1024,noverlap=div(n,2),fs=1,win=DSP.hanning(n),scaling=&quot;spectrum&quot;)</code></pre><p>Calculate cross-spectral matrix from time series <code>t</code> which is <code>S x M</code> dimensional, where <code>S</code> is the number of samples and <code>M</code>the number of microphones.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/1oly/AeroAcoustics.jl/blob/7fdb5d4505c2913a66a37bbb99ec24486290e7fa/src/csm.jl#L38-L43">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AeroAcoustics.psf" href="#AeroAcoustics.psf"><code>AeroAcoustics.psf</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">psf(Environment[,cent])</code></pre><p>Calculate frequency-domain point spread function using the Environment struct to access steeringvectors. Optionally, supply the index where the psf is centered, default is (N/2)+1.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/1oly/AeroAcoustics.jl/blob/7fdb5d4505c2913a66a37bbb99ec24486290e7fa/src/psf.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AeroAcoustics.SPI-Tuple{FreqArray, Environment, Any, Any}" href="#AeroAcoustics.SPI-Tuple{FreqArray, Environment, Any, Any}"><code>AeroAcoustics.SPI</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">SPI(b::FreqArray,E::Environment,dxdy,limits)</code></pre><p>Convenience function to normalize source integration of a beamforming result.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/1oly/AeroAcoustics.jl/blob/7fdb5d4505c2913a66a37bbb99ec24486290e7fa/src/sourceintegration.jl#L91-L95">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AeroAcoustics.sourceintegration-Union{Tuple{T2}, Tuple{T1}, Tuple{Vector{T1}, Environment, Vector{T2}}} where {T1, T2}" href="#AeroAcoustics.sourceintegration-Union{Tuple{T2}, Tuple{T1}, Tuple{Vector{T1}, Environment, Vector{T2}}} where {T1, T2}"><code>AeroAcoustics.sourceintegration</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">sourceintegration(x::Vector,env::Environment,limits::Vector{T}) where T
sourceintegration(x::Vector,env::Environment,limits::Vector{Vector{T}}) where T
sourceintegration(x::FreqArray,env::Environment,limits::Vector{T}) where T
sourceintegration(x::FreqArray,env::Environment,limits::Vector{Vector{T}}) where T</code></pre><p>Source integration of <code>x</code> from <code>limits</code> given in cartesian coordinates <code>[xmin,xmax,ymin,ymax]</code>.</p><pre><code class="language-none">src1 = [-0.1,0.1,-0.1,0.1]
src2 = [-0.2,0.0,-0.1,0.1]
limits = [src1,src2]
srcint = sourceintegration(x,env,limits)</code></pre><p>Optionally supply keyword <code>int_thres</code> to set a threshold on source integration. Default is set to <code>Inf</code> which sum all values within integration region.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/1oly/AeroAcoustics.jl/blob/7fdb5d4505c2913a66a37bbb99ec24486290e7fa/src/sourceintegration.jl#L1-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AeroAcoustics.steeringvectors-Tuple{Environment}" href="#AeroAcoustics.steeringvectors-Tuple{Environment}"><code>AeroAcoustics.steeringvectors</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">steeringvectors(E::Environment)</code></pre><p>Pre-compute steeringvectors for beamforming using an <code>Environment</code> with the needed parameters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/1oly/AeroAcoustics.jl/blob/7fdb5d4505c2913a66a37bbb99ec24486290e7fa/src/steeringvectors.jl#L79-L83">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AeroAcoustics.csm_slow-Union{Tuple{AbstractArray{T, N} where N}, Tuple{T}} where T&lt;:AbstractFloat" href="#AeroAcoustics.csm_slow-Union{Tuple{AbstractArray{T, N} where N}, Tuple{T}} where T&lt;:AbstractFloat"><code>AeroAcoustics.csm_slow</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">csm_slow(t;n=1024,noverlap=div(n,2),fs=1,win=DSP.hanning(n),scaling=&quot;spectrum&quot;)</code></pre><p>Calculate cross-spectral matrix from time series <code>t</code> which is <code>S x M</code> dimensional, where <code>S</code> is the number of samples and <code>M</code>the number of microphones. This version is slower than <code>csm</code> but allocates much less (in some cases), therefore <code>csm_slow</code> could be used for long time signals.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/1oly/AeroAcoustics.jl/blob/7fdb5d4505c2913a66a37bbb99ec24486290e7fa/src/csm.jl#L77-L83">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AeroAcoustics.psf_col!-Union{Tuple{B}, Tuple{A}, Tuple{N}, Tuple{T}, Tuple{A, B, Int64}} where {T&lt;:AbstractFloat, N, A&lt;:AbstractVector{T}, B&lt;:AbstractArray{Complex{T}, N}}" href="#AeroAcoustics.psf_col!-Union{Tuple{B}, Tuple{A}, Tuple{N}, Tuple{T}, Tuple{A, B, Int64}} where {T&lt;:AbstractFloat, N, A&lt;:AbstractVector{T}, B&lt;:AbstractArray{Complex{T}, N}}"><code>AeroAcoustics.psf_col!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">psf_col!(p,steeringvec,cent)</code></pre><p>Calculate single frequency point spread function as a column vector.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/1oly/AeroAcoustics.jl/blob/7fdb5d4505c2913a66a37bbb99ec24486290e7fa/src/psf.jl#L17-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AeroAcoustics.point_to_region-Union{Tuple{N}, Tuple{T}, Tuple{Tuple{T, T} where T, Tuple{Vararg{T, N}}}} where {T, N}" href="#AeroAcoustics.point_to_region-Union{Tuple{N}, Tuple{T}, Tuple{Tuple{T, T} where T, Tuple{Vararg{T, N}}}} where {T, N}"><code>AeroAcoustics.point_to_region</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">point_to_region(src,dxdy)</code></pre><p>Helper function to get integration limits from <code>src</code> coordinates and size of area <code>dxdy</code></p><pre><code class="language-none">sources = [(0.1,0.1),(-0.1,0.1),(-0.1,-0.1),(0.1,-0.1)]
dxdy = (0.1,0.1)
limits = point_to_region(sources,dxdy)
srcint = sourceintegration(x,env,limits)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/1oly/AeroAcoustics.jl/blob/7fdb5d4505c2913a66a37bbb99ec24486290e7fa/src/sourceintegration.jl#L60-L70">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AeroAcoustics.refraction_correction" href="#AeroAcoustics.refraction_correction"><code>AeroAcoustics.refraction_correction</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">r,pc_pm = refraction_correction(E::Environment[,h1=1.5,h2=z0-h1])</code></pre><p>Compute propagation time correction and amplitude correction for 2D planar jet.</p><p>References: -	Glegg, S., &amp; Devenport, W. (2017). Aeroacoustics of low mach number flows: Fundamentals, analysis, and measurement. Chap. 10.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/1oly/AeroAcoustics.jl/blob/7fdb5d4505c2913a66a37bbb99ec24486290e7fa/src/steeringvectors.jl#L58-L65">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AeroAcoustics.refraction_correction-NTuple{6, Any}" href="#AeroAcoustics.refraction_correction-NTuple{6, Any}"><code>AeroAcoustics.refraction_correction</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">r,pc_pm = refraction_correction(Δx,Δy,Δz,Ma,h1,h2)</code></pre><p>Compute propagation time correction and amplitude correction for 2D planar jet.</p><p>References: -	Glegg, S., &amp; Devenport, W. (2017). Aeroacoustics of low mach number flows: Fundamentals, analysis, and measurement. Chap. 10.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/1oly/AeroAcoustics.jl/blob/7fdb5d4505c2913a66a37bbb99ec24486290e7fa/src/steeringvectors.jl#L16-L23">source</a></section></article><h2 id="Advanced-methods-1"><a class="docs-heading-anchor" href="#Advanced-methods-1">Advanced methods</a><a class="docs-heading-anchor-permalink" href="#Advanced-methods-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="AeroAcoustics.cleanSC-Tuple{Any}" href="#AeroAcoustics.cleanSC-Tuple{Any}"><code>AeroAcoustics.cleanSC</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">cleanSC(E[;maxiter=50,ϕ=0.5,stopn=10,peak_removal=false,trust_region=nothing])</code></pre><p>CLEAN-SC algorithm for source identification and quantification optionally setting maximum iterations <code>maxiter</code> (default 50), and loop gain <code>ϕ</code> (default 0.5). Additionally, a stopping criterion <code>max_peak[i] &gt; max_peak[i-stopn]</code> can be set with parameter <code>stopn</code>. Subtraction of peak sources in the dirty map is supported by <code>peak_removal=true/false</code> to remove peak sources outside <code>trust_region</code> with limits given as <code>[xmin,xmax,ymin,ymax]</code> e.g. <code>trust_region=[-0.75;1.5;-1.0;1.0]</code>.</p><p><strong>References:</strong></p><p>-	Sijtsma, P. (2007). CLEAN based on spatial source coherence. International Journal of Aeroacoustics, 6(4), 357–374.</p><p>With inspiration from https://github.com/acoular/acoular/blob/66cba3cffb3bc72602c869f99347be76798f4ac1/acoular/fbeamform.py#L1496</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/1oly/AeroAcoustics.jl/blob/7fdb5d4505c2913a66a37bbb99ec24486290e7fa/src/cleansc.jl#L1-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AeroAcoustics.damas-Union{Tuple{FA}, Tuple{T}, Tuple{Environment, FA}, Tuple{Environment, FA, T}, Tuple{Environment, FA, T, Real}} where {T&lt;:AbstractArray, FA&lt;:FreqArray}" href="#AeroAcoustics.damas-Union{Tuple{FA}, Tuple{T}, Tuple{Environment, FA}, Tuple{Environment, FA, T}, Tuple{Environment, FA, T, Real}} where {T&lt;:AbstractArray, FA&lt;:FreqArray}"><code>AeroAcoustics.damas</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">damas(env::Environment, b [,f&lt;:AbstractArray, ω::Real]; maxiter=10)</code></pre><p>Performs exactly <code>maxiter</code> DAMAS iterations for all frequency bins in <code>env.fn</code> or frequencies in <code>f</code>. <code>f</code> must contain values that match exact a (sub)set of the values in <code>env.fn</code>. Successive Over Relaxation (SOR) can be set with relaxation parameter <code>ω</code>. Default is <code>ω=1</code> corresponding to no relaxation.</p><p><strong>References:</strong></p><p>Brooks, T. F. et al. (2006). A deconvolution approach for the mapping of acoustic sources (DAMAS) determined from phased microphone arrays. J.Sound.Vib. 294(4), 856–879. https://doi.org/10.1016/j.jsv.2005.12.046</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/1oly/AeroAcoustics.jl/blob/7fdb5d4505c2913a66a37bbb99ec24486290e7fa/src/damas.jl#L3-L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AeroAcoustics.fista-Union{Tuple{FA}, Tuple{T}, Tuple{Environment, FA, FA}, Tuple{Environment, FA, FA, T}} where {T&lt;:AbstractArray, FA&lt;:FreqArray}" href="#AeroAcoustics.fista-Union{Tuple{FA}, Tuple{T}, Tuple{Environment, FA, FA}, Tuple{Environment, FA, FA, T}} where {T&lt;:AbstractArray, FA&lt;:FreqArray}"><code>AeroAcoustics.fista</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">fista(env::Environment,b ,p [,f&lt;:AbstractArray]; tol=1e-6, maxit=1000)</code></pre><p>Performs deconvolution with FISTA with a nonnegativity constraint for all frequency bins in <code>env.fn</code> or frequencies in <code>f</code>. <code>f</code> must contain values that match exact a (sub)set of the values in <code>env.fn</code>. </p><p><strong>Arguments</strong></p><p><em>Required:</em></p><ul><li><code>env::Environment</code>: Environment struct</li><li><code>b::FreqArray</code>: Beamforming array</li><li><code>p::FreqArray</code>: Point spread function array</li></ul><p><em>Optional:</em></p><ul><li><code>tol</code>: Convergence tolerance (default: 1e-6)</li><li><code>maxit</code>: Maximum number of iterations (default: 1000)</li></ul><p><strong>References:</strong></p><ul><li>Beck, A., &amp; Teboulle, M. (2009). A fast iterative shrinkage-thresholding algorithm for linear inverse problems.    SIAM journal on imaging sciences, 2(1), 183-202.</li><li>Lylloff, O., Fernández-Grande, E., Agerkvist, F., Hald, J., Tiana Roig, E., &amp; Andersen, M. S. (2015). Improving the efficiency of deconvolution algorithms for sound source localization.    The journal of the acoustical society of America, 138(1), 172-180</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/1oly/AeroAcoustics.jl/blob/7fdb5d4505c2913a66a37bbb99ec24486290e7fa/src/fista.jl#L1-L24">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« AeroAcoustics</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 1 May 2023 09:09">Monday 1 May 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
